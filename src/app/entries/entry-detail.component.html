<div class="card">
    <div class="card-header"
         *ngIf="entry_final; else stillLoading">
      {{pageTitle + ": Entry id:" + entry_final.id}}
    </div>
    <ng-template #stillLoading><p>Loading...</p></ng-template>
    <div class="row mt-4">
      <div class="col-md-4">
        &nbsp;&nbsp;<button class="btn btn-outline-secondary mr-3"
                style="width:80px"
                (click)="onBack()">
          <i class="fa fa-chevron-left"></i> Back
        </button>
      </div>
    </div>
  
    <div class="card-body">
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-3">Bracket Name:</div>
            <div class="col-md-6">{{entry_final.entryName}}</div>
          </div>
          <div class="row">
            <div class="col-md-3">Your Name:</div>
            <div class="col-md-6">{{entry_final.entryUsername}}</div>
          </div>
          <div class="row">
            <div class="col-md-12 table-data">
              <table mat-table [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="seed">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Seed </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.seed}} </td>
                  <td mat-footer-cell *matFooterCellDef>Totals:</td>
                </ng-container>

                <ng-container matColumnDef="weight">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Weight </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.weight}} </td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
            
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.name}} </td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
  
                <ng-container matColumnDef="adPoints">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Advancement Points </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.adPoints}} </td>
                  <td mat-footer-cell *matFooterCellDef>{{totalPickAdPoints}}</td>
                </ng-container>
  
                <ng-container matColumnDef="actPoints">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Activity Points </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.actPoints}} </td>
                  <td mat-footer-cell *matFooterCellDef>{{totalPickActPoints}}</td>
                </ng-container>
  
                <ng-container matColumnDef="plPoints">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Placement Points </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.plPoints}} </td>
                  <td mat-footer-cell *matFooterCellDef>{{totalPickPlPoints}}</td>
                </ng-container>
  
                <ng-container matColumnDef="points">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Gross Points </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.points}} </td>
                  <td mat-footer-cell *matFooterCellDef>{{totalPickPoints}}</td>
                </ng-container>
  
                <ng-container matColumnDef="numPicks">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> #Picks </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.numPicks}} </td>
                  <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>
  
                <ng-container matColumnDef="percentDiscount">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Discount Percent </th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.percentDiscount*100}}% </td>
                  <td mat-footer-cell *matFooterCellDef>{{totalAverageDiscount*100}}%</td>
                </ng-container>
  
                <ng-container matColumnDef="discountedPoints">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Final Score</th>
                  <td mat-cell *matCellDef="let wrestler"> {{wrestler.discountedPoints}} </td>
                  <td mat-footer-cell *matFooterCellDef> {{totalPickDiscountPoints | number : '1.2-2'}} </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
              </table> 
            </div>
          </div>
        </div>
    </div>
    
    <div class="alert alert-danger"
         *ngIf="errorMessage">{{errorMessage}}
    </div>
  </div>